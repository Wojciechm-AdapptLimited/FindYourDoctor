@using FindYourDoctor.Services
@using Microsoft.AspNetCore.Identity
@using FindYourDoctor.Data.Domain

@inject DiseaseService DiseaseService
@inject DoctorPatientService DoctorPatientService
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject UserManager<User> UserManager

<MudDialog>
    <DialogContent>
        <MudForm @ref="_form" @bind-IsValid="_success" Style="padding: 24px">
            <MudSelect T="string" @bind-Value="_disease" Label="Select disease" Required="true" RequiredError="Disease is required">
                @foreach (var disease in _diseases)
                {
                    <MudSelectItem Value="@disease" />
                }
            </MudSelect>
            <MudDatePicker @bind-Date="_illnessDate" MaxDate="DateTime.Today" Label="Select Date" Required="true" RequiredError="Date is required"/>
        </MudForm>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" Variant="Variant.Filled" OnClick="SubmitAsync">Submit</MudButton>
    </DialogActions>
</MudDialog>